# Prepare resources for compiling, installing and running Nebula Graph (To be completed)

This topic describes the requirements and suggestions for compiling Nebula Graph and installing Nebula Graph in test environments and production environments, as well as how to estimate the resource you need to reserve for running a Nebula Graph cluster.

## Requirements for compiling Nebula Graph

TODO

## Requirements and suggestions for installing Nebula Graph in test environments

### Hardware requirements for test environments

| Item               | Requirement |
| ------------------ | ----------- |
| CPU architecture   | x86_64      |
| Number of CPU core | 4           |
| Memory             | 8 GB        |
| Storage            | 100 GB, SSD |

### Supported operation systems for test environments

For now, we can only install Nebula Graph in the Linux system.

To install Nebula Graph in a test environment, we recommend that you use any Linux system with kernel version 2.6.32 or higher.

### Suggested service architecture for test environments

* 3 metadata service processes (metad)
* At least 3 storage service processes (storaged)
* At least 3 query engine service processes (graphd)

Each metad process automatically creates and maintains a copy of the metadata. Usually, you only 3 metad processes. The number of storaged processes does not affect the number of graph space copies.

You can deploy multiple processes on a single machine. For example, on a cluster of 5 machines (named as A, B, C, D and E), you can deploy Nebula Graph as follows:

> **WARNING**: Do not deploy a cluster across IDCs.

* A: 1 metad, 1 storaged, 1 graphd
* B: 1 metad, 1 storaged, 1 graphd
* C: 1 metad, 1 storaged, 1 graphd
* D: 1 storaged, 1 graphd
* E: 1 storaged, 1 graphd

### Software requirements for test environments

See [General software requirements](#general_software_requirements).

## Requirements and suggestions for installing Nebula Graph in production environments

### Hardware requirements for production environments

| Item               | Requirement          |
| ------------------ | -------------------- |
| CPU architecture   | x86_64               |
| Number of CPU core | 48                   |
| Memory             | 96 GB                |
| Storage            | 2 * 900 GB, NVMe SSD |

### Supported operation systems for production environments

For now, we can only install Nebula Graph in the Linux system.

To install Nebula Graph in a production environment, we recommend that you use any Linux system with kernel version 3.9 or higher.

### Suggested service architecture for production environments

* 1 metadata service process (metad)
* At least 1 storage service process (storaged)
* At least 1 query engine service process (graphd)

For example, on a cluster of 3 machines (named as A, B, and C), you can deploy Nebula Graph as follows:

* A: 1 metad, 1 storaged, 1 graphd
* B: 1 storaged, 1 graphd
* C: 1 storaged, 1 graphd

### Software requirements for production environments

See [General software requirements](#general_software_requirements).

## General software requirements

You must have the software listed below to install Nebula Graph in your system. Some of them have strict version requirements.

| Software         | Version                | Note                                                      |
| ---------------- | ---------------------- | --------------------------------------------------------- |
| glibc            | 2.12                   | You can run `ldd --version` to check the glibc version.   |
| make             | Any mainstream version | -                                                         |
| m4               | Any mainstream version | -                                                         |
| git              | Any mainstream version | -                                                         |
| wget             | Any mainstream version | -                                                         |
| unzip            | Any mainstream version | -                                                         |
| xz               | Any mainstream version | -                                                         |
| readline-devel   | Any mainstream version | -                                                         |
| ncurses-devel    | Any mainstream version | -                                                         |
| zlid-devel       | Any mainstream version | -                                                         |
| gcc              | 7.1.0 or above         | You can run `gcc -v` to check the gcc version.            |
| gcc-c++          | Any mainstream version | -                                                         |
| cmake            | 3.5.0 or above         | You can run `cmake --version` to check the cmake version. |
| gettext          | Any mainstream version | -                                                         |
| curl             | Any mainstream version | -                                                         |
| redhat-lsb-core  | Any mainstream version | -                                                         |
| libstdc++-static | Any mainstream version | Only needed in CentOS 8+, RedHat 8+ and Fedora systems.   |
| libasan          | Any mainstream version | Only needed in CentOS 8+, RedHat 8+ and Fedora systems.   |

## Reserve resources for running a Nebula Graph cluster

TODO