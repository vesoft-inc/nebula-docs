# Create a service instance

To use NebulaGraph on Alibaba Cloud, you need to create a service instance on the Alibaba Cloud console.

## Account and permissions

- Prepare an [Alibaba Cloud account](https://www.alibabacloud.com/help/en/basics-for-beginners/latest/overview "https://help.aliyun.com/document_detail/324606.html")。
- To create an instance using a RAM user, you need to grant the user the following permissions:

  - AliyunECSFullAccess
  - AliyunVPCFullAccess
  - AliyunROSFullAccess
  - AliyunCloudMonitorFullAccess
  - AliyunComputeNestUserFullAccess

## Resources and costs

NebulaGraph on Alibaba Cloud supports both free trial and paid usage, with the details shown in the following table.

| Item | Free Trial | Paid |
| - | - | - |
| Cloud resource ownership | Alibaba Cloud official account | User account |
| Cloud resource cost | **Alibaba Cloud covers** | User covers |
| Cloud resource usage duration | 30 days (non-renewable) | User chooses when creating an instance |
| NebulaGraph license cost | **Free during the trial period** | User covers |
| NebulaGraph license validity period | 30 days | User chooses when creating an instance |
| Whether data is retained after license expiration | No (as cloud resources will also expire) | Yes |
| Whether Data is retained after resource expiration | No | No |
| Data disk snapshot cost | **Alibaba Cloud covers** | User covers (can be disabled) |

## Data backup

When creating a service instance, the system will automatically enable the data disk snapshot feature to periodically back up NebulaGraph data.

Before creating a paid instance, you need to [enable snapshot](https://www.alibabacloud.com/help/en/elastic-compute-service/latest/activate-ecs-snapshot). The free trial instance uses resources under the Alibaba Cloud official account and the snapshot service is already enabled, so you don't need to enable it manually.

The default snapshot backup policy is to create a snapshot at 00:00 every day.

For the costs of creating a snapshot, see [snapshot billing](https://www.alibabacloud.com/help/en/elastic-compute-service/latest/billing-items-snapshots).

To delete snapshots, modify or delete automatic snapshot policies. For more information, see [the snapshot documentation](https://www.alibabacloud.com/help/en/elastic-compute-service/latest/elastic-compute-service-snapshots).

## Plan

NebulaGraph Cloud on Alibaba Cloud supports the following plans.

| Plan | Description |
| - | - |
| Basic | Deploys all NebulaGraph service nodes on 1 ECS server. |
| Standard | Deploys Graph service and Storage service on separate ECS servers, each service as a single node (1 ECS). Deploys Explorer and other ecosystem tools on 1 ECS server. |
| HA (High Availability) | Deploys Graph service and Storage service on separate ECS servers, each service includes 3 nodes (3 ECS). Deploys Explorer and other ecosystem tools on 1 ECS server. |

The plans supported by paid and free trial service instances differ. See the create instance page for details.

## Create a paid service instance

1. Log in to the [Alibaba Cloud console](https://home-intl.console.aliyun.com/).

2. Open the [NebulaGraph Enterprise](https://marketplace.alibabacloud.com/products/?category=57252001&code=sgcmgj00031218) page on the Alibaba Cloud Marketplace.

3. Select the **Version** and **Duration** (the license validity period of the NebulaGraph services), and then click **Buy Now**.

4. On the **Confirm Order** page, select the **Region** where you want to create the service instance.

5. In the **ECS Instance Billing Method** section, specify the payment method for the ECS server. The default is **Pay-As-You-Go**.

  - **Pay-as-you-go**: Pay based on the billing cycle. A bill is generated for each settlement period, and the corresponding fees are deducted from your account. For more information, see [Pay-As-You-Go](https://www.alibabacloud.com/help/en/elastic-compute-service/latest/billing-methods-pay-as-you-go).

  - **Subscription**: Pay before using. For more information, see [Subscription](https://www.alibabacloud.com/help/en/elastic-compute-service/latest/billing-methods-subscription). If you choose the **Subscription** mode, you need to specify the **Billing Cycle** and the **Subscription Duration**. Currently, only **Month** is supported for the billing cycle, which means purchasing by month.

6. In the **Select a plan** section, select a plan for the deployment.

7. In the **NebulaGraph Configuration** section, set the **Data Disk Space** and **ECS Server Login Password**.
  
8. In the **Infrastructure Configuration** section, complete the following settings.

  1. Select the **Existing VPC Instance ID**.

    If no VPC exists, click **Create VPC** on the right to create a VPC.

  2. Select the **Availability Zone ID**.

  3. Select the **VSwitch ID**.

    If no VSwitch exists, click **Create Switch** on the right to create a switch.

9. At the bottom of the page, check **Agree End User License Agreement、Marketplace Service Agreement** and click **Create Order**.

10. At the bottom of the page, click **Pay Now**.

11. On the **Payment** page, select the payment method, then click **Pay** at the bottom of the page.

12. On the **Payment Complete** page, click **Management Console**.

13. On the **Purchased Services** page, click **Go to Deploy or View Deployment Details of Computing Nest** on the right side of the service instance you want to create.

  !!! note

        If the new instance is not shown in the list of purchased services, refresh the page.

14. Make sure that the **Status** of the target instance in the instance list is **Deploying**.

  On average, the deployment takes 10 minutes. After completion, the instance status changes to **Deployed**.

## Create a free trial instance

!!! danger
    Do not use free trial instances in production environments.

1. Log in to the [Recommend Services](https://computenest.console.aliyun.com/user/ap-southeast-1/recommendService "https://computenest.console.aliyun.com/user/ap-southeast-1/recommendService") page on the Alibaba Cloud Computing Nest console and search for **NebulaGraph Enterprise**.

2. Click **Free Trial** on the **NebulaGraph Enterprise** card.

3. (Optional) Set the **Service Instance Name**. The default value is the service instance ID.

4. Select the **Region** where you want to create the instance.

5. In the **NebulaGraph Configuration** section, complete the **Storage Data Disk Space** and **ECS Server Login Password** settings.
  
6. In the **Infrastructure Configuration** section, select an **Availability Zone ID**.

7. At the bottom of the page, click **Next: Confirm Order**.

8. In the **Permissions** section, check **I agree to attach the preceding policy to the service provider Vesoft Inc. to implement hosted O&M**.

9. In the **Terms of Service** section, check **I have read and agreed to Computing Nest Service Agreement**.

10. At the bottom of the page, click **Use for Free**.

11. On the **Submitted** page, click **View Service**.

12. Make sure that the **Status** of the target instance in the instance list is **Deploying**.

  On average, the deployment takes 10 minutes. After completion, the instance status changes to **Deployed**.

<!-- ## FAQ

Q: What should I do if the status of my service instance is **Deployment Failed**?

1. If the instance was created using a RAM account, make sure that the account has been granted the permissions specified in the **Account and permissions** section of this topic.
2. If the permissions are correct, delete the failed instance and try to create a new one.
3. If you still encounter issues, contact support. -->
