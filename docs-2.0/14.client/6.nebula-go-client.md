# NebulaGraph Go

[NebulaGraph Go](https://github.com/vesoft-inc/nebula-go/tree/{{go.branch}}) is a Golang client for connecting to and managing the NebulaGraph database.

## Prerequisites

You have installed Golang 1.13 or later versions.

## Compatibility with NebulaGraph

|NebulaGraph version|NebulaGraph Go version|
|:---|:---|
|{{ nebula.release }}|{{go.release}}|
|2.6.x|2.6.0|
|2.0.x|2.0.0-GA|

## Download NebulaGraph Go

- (Recommended) To install a specific version of NebulaGraph Go, use the Git option `--branch` to specify the branch. For example, to install v{{ go.release }}, run the following command:

  ```bash
  $ git clone --branch {{go.branch}} https://github.com/vesoft-inc/nebula-go.git
  ```

- To install the daily development version, run the following command to download the source code from the `master` branch:

  ```bash
  $ git clone https://github.com/vesoft-inc/nebula-go.git
  ```

## Install or update

Run the following command to install or update NebulaGraph Go:

```bash
$ go get -u -v github.com/vesoft-inc/nebula-go/v3@v{{go.release}}
```

## Core of the example code

A NebulaGraph GO client provides two connection modes SessionPool and Session. The SessionPool mode is for sharing connections across multiple threads. The Session mode is for single-threaded environments, one Session per thread.

### SessionPool

There are some limitations for using SessionPool mode:

1. There MUST be an existing graph space in the DB before initializing the SessionPool.
2. Each SessionPool is corresponding to a single USER and a single GRAPH SPACE. This is to ensure that the user's access control is consistent. i.g., The same user may have different access privileges in different graph spaces. If you need to run queries in different graph spaces, you may have multiple SessionPools.
3. Every time when `sessinPool.execute()` is called, the session will execute the query in the graph space set in the SessionPool configuration file.
4. Commands that alter passwords or drop users should NOT be executed via SessionPool.

详细示例请参见 [session_pool_example.go](https://github.com/vesoft-inc/nebula-go/blob/{{go.branch}}/session_pool_example/session_pool_example.go)。

### Session
  
详细示例请参见 [graph_client_basic_example](https://github.com/vesoft-inc/nebula-go/blob/{{go.branch}}/basic_example/graph_client_basic_example.go) 和 [graph_client_goroutines_example](https://github.com/vesoft-inc/nebula-go/blob/{{go.branch}}/gorountines_example/graph_client_goroutines_example.go)。

This section shows the core of the example code. For all the code, see [graph_client_basic_example](https://github.com/vesoft-inc/nebula-go/blob/{{go.branch}}/basic_example/graph_client_basic_example.go) and [graph_client_goroutines_example](https://github.com/vesoft-inc/nebula-go/blob/{{go.branch}}/gorountines_example/graph_client_goroutines_example.go).
