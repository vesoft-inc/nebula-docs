# SHOW SESSIONS

登录{{nebula.name}}数据库时，会创建对应会话，用户可以查询会话信息。

## 注意事项

- 执行`exit`退出登录时，客户端会调用 API `release`，释放会话并清除会话信息。如果没有正常退出，且没有在配置文件 [nebula-graphd.conf](../../../5.configurations-and-logs/1.configurations/3.graph-config.md) 设置空闲会话超时时间（`session_idle_timeout_secs`），会话不会自动释放。对于未自动释放的会话，需要手动删除指定会话，详情参见[终止会话](../../17.query-tuning-statements/2.kill-session.md)。

- `SHOW SESSIONS`查询所有 Graph 服务上的会话信息。

- `SHOW LOCAL SESSIONS`从当前连接的 Graph 服务获取会话信息，不会查询其他 Graph 服务上的会话信息。

- `SHOW SESSION <Session_Id>`查询指定 Session ID 的会话信息。

## 语法

```ngql
SHOW [LOCAL] SESSIONS;
SHOW SESSION <Session_Id>;
```

## 示例

```ngql
nebula> SHOW SESSIONS;
+------------------+----------+--------------------+----------------------------+----------------------------+------------------+----------+--------------------+
| SessionId        | UserName | SpaceName          | CreateTime                 | UpdateTime                 | GraphAddr        | Timezone | ClientIp           |
+------------------+----------+--------------------+----------------------------+----------------------------+------------------+----------+--------------------+
| 1651220858102296 | "root"   | "basketballplayer" | 2022-04-29T08:27:38.102296 | 2022-04-29T08:50:46.282921 | "127.0.0.1:9669" | 0        | "127.0.0.1" |
| 1651199330300991 | "root"   | "basketballplayer" | 2022-04-29T02:28:50.300991 | 2022-04-29T08:16:28.339038 | "127.0.0.1:9669" | 0        | "127.0.0.1" |
| 1651112899847744 | "root"   | "basketballplayer" | 2022-04-28T02:28:19.847744 | 2022-04-28T08:17:44.470210 | "127.0.0.1:9669" | 0        | "127.0.0.1" |
| 1651041092662100 | "root"   | "basketballplayer" | 2022-04-27T06:31:32.662100 | 2022-04-27T07:01:25.200978 | "127.0.0.1:9669" | 0        | "127.0.0.1" |
| 1650959429593975 | "root"   | "basketballplayer" | 2022-04-26T07:50:29.593975 | 2022-04-26T07:51:47.184810 | "127.0.0.1:9669" | 0        | "127.0.0.1" |
| 1650958897679595 | "root"   | ""                 | 2022-04-26T07:41:37.679595 | 2022-04-26T07:41:37.683802 | "127.0.0.1:9669" | 0        | "127.0.0.1" |
+------------------+----------+--------------------+----------------------------+----------------------------+------------------+----------+--------------------+

nebula> SHOW SESSION 1635254859271703;
+------------------+----------+--------------------+----------------------------+----------------------------+------------------+----------+--------------------+
| SessionId        | UserName | SpaceName          | CreateTime                 | UpdateTime                 | GraphAddr        | Timezone | ClientIp           |
+------------------+----------+--------------------+----------------------------+----------------------------+------------------+----------+--------------------+
| 1651220858102296 | "root"   | "basketballplayer" | 2022-04-29T08:27:38.102296 | 2022-04-29T08:50:54.254384 | "127.0.0.1:9669" | 0        | "127.0.0.1" |
+------------------+----------+--------------------+----------------------------+----------------------------+------------------+----------+--------------------+
```

|参数|说明|
|:---|:---|
|`SessionId`|会话 ID，唯一标识一个会话。|
|`UserName`|会话的登录用户名称。|
|`SpaceName`|用户当前所使用的图空间。刚登录时为空（`""`）。|
|`CreateTime`|会话的创建时间，即用户认证登录的时间。时区为配置文件中`timezone_name`指定的时区。|
|`UpdateTime`|用户有执行操作时，会更新此时间。时区为配置文件中`timezone_name`指定的时区。|
|`GraphAddr`|会话的 Graph 服务地址和端口。|
|`Timezone`|保留参数，暂无意义。|
|`ClientIp`|会话的客户端 IP 地址。|



